---
layout: post
title:  "面试总结之数据库"
date:   2016-11-07 15:06:40 
categories: 面试经验
tags: 面试总结 数据库 
excerpt: 面试总结笔记。
---

* content
{:toc}

## 数据库面试总结

比较基础的就不一一介绍了，这篇主要总结一下事务，索引，锁，数据库两个主要引擎。

关于B+Tree，Mysql优化性能调优，博主水平有限，这些之后再做总结！

---

### 事务

事务是作为一个逻辑单元执行的一系列操作，一个逻辑工作单元必须有四个属性，称为 ACID（原子性、一致性、隔离性和持久性）属性，只有这样才能成为一个事务。

* 原子性：一个事务是一个不可分割的工作单位，事务中包括的诸操作要么都做，要么都不做。

* 一致性：事务必须是使数据库从一个一致性状态变到另一个一致性状态。一致性与原子性是密切相关的。

* 隔离性：一个事务的执行不能被其他事务干扰。即一个事务内部的操作及使用的数据对并发的其他事务是隔离的，并发执行的各个事务之间不能互相干扰。

* 持久性：持久性也称永久性（permanence），指一个事务一旦提交，它对数据库中数据的改变就应该是永久性的。接下来的其他操作或故障不应该对其有任何影响。

---

### 事务的SQL操作语句

* 开始事务：begin TRANSACTION;

* 提交事务：commit TRANSACTION;

* 回滚事务：rollback TRANSACTION;

---

### 事务的并发问题

一个数据库可能拥有多个访问客户端，这些客户端都可以并发方式访问数据库。数据库中的相同数据可能同时被多个事务访问，

如果没有采取必要的隔离措施，就会导致各种并发问题，破坏数据的完整性。这些问题可以归结为5类，包括3类数据读问题

（脏读、幻象读和不可重复读）以及2类数据更新问题（第一类丢失更新和第二类丢失更新）。

* 脏读：A事务读取B事务尚未提交的更改数据；

* 不可重复读：A事务读取了B事务已经提交的数据，导致两次读不一致；

* 幻想读：A事务读取了B事务新增的数据，幻象读和不可重复读是两个容易混淆 的概念，前者是指读到了其它已经提交事务的新增数据，而后者是指读到了已经提交事 务的更改数据（更改或删除）；

* 第一类丢失更新：A事务撤销时，把已经提交的B事务的更新数据覆盖了；

* 第二类丢失更新：A事务提交时覆盖了B事务提交的数据；

